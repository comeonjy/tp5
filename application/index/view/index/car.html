
<!DOCTYPE html>
<html class="no-js"> 
    <head>
    {include file='include/head'}
    <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
  <link rel="stylesheet" href="__static__/css/amazeui.min.css">
  <link rel="stylesheet" href="__static__/css/app.css">
<style>
.cfs { width: 40%; }
.cfs a { cursor: pointer; }
#cxsdd{text-align:center;}
#cxsdd td{  height:25px;}
#xianss{ height:20px; line-height:20px;}
#in_num, #sp_num{ color:red; font-weight:bold;font-size:20px; padding:0 5px;}
.lskdo{ width:30px; text-align:center; }
</style>
    </head>
    <body>
    <div class="am-g">
    <div id="fh5co-page">
        <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
        {include file="include/aside"}
      
        <div id="fh5co-main">
        
            <div class="fh5co-narrow-content">
                

    
    <div class="am-u-sm-11 am-u-sm-centered">
<form class="am-form" method="post" action="{:url('Wxpay/order')}">
      <fieldset class="myapp-login-form am-form-set">
    <table id="cxsdd" width="100%" border="1" cellpadding="0" cellspacing="0">
        <tr>
            
            <td>商品</td>
            <td><input id="allc" type="checkbox"  />
            全选</td>
            <td class="cfs">数量</td>
        </tr>
        <tr>
            
            <td>产品1 </td>
            <td><input class="choo" type="checkbox" name="checkbox[101]" value="101"  />
            选择</td>
            <td class="cfs"><a class="jian">-</a>
            <input class="lskdo" disabled="disabled" type="text" name="num[101]" value="1" />
            <a class="jia">+</a></td>
        </tr>
        <tr>
            <td>产品2</td>
            <td><input class="choo" type="checkbox" name="checkbox[]" value="102"  />
            选择</td>
            <td class="cfs"><a class="jian">-</a>
            <input class="lskdo" disabled="disabled" type="text" name="num[102]"  value="1" />
            <a class="jia">+</a></td>
        </tr>
        <tr>
            <td>产品3</td>
            <td><input class="choo" type="checkbox" name="checkbox[]" value="103"  />
            选择</td>
            <td class="cfs"><a class="jian">-</a>
            <input class="lskdo" disabled="disabled" type="text" name="num[103]"  value="1" />
            <a class="jia">+</a></td>
        </tr>
        <tr>
            <td>产品4</td>
            <td><input class="choo" type="checkbox" name="checkbox[]" value="104"  />
            选择</td>
            <td class="cfs"><a class="jian">-</a>
            <input class="lskdo" disabled="disabled" type="text" name="num[104]" value="1" />
            <a class="jia">+</a></td>
        </tr>
        <tr>
            <td>产品5</td>
            <td><input class="choo" type="checkbox" name="checkbox[105]" value="105"  />
            选择</td>
            <td class="cfs"><a class="jian">-</a>
            <input class="lskdo" disabled="disabled" type="text" name="num[105]" value="1" />
            <a class="jia">+</a></td>
        </tr>
    </table>
    </fieldset>
    <div id="xianss">您选择了<span id="in_num">0</span>种商品
    <!-- ，共有<span id="sp_num">0</span>个商品 -->
    </div>
    <button type="submit" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block ">购  买</button>
 </form>   
 </div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
$("#allc").change(function(){
    var innum=$(".choo").length;
    if($(this).prop("checked")){
        $(".choo").prop("checked",true);
        $("#in_num").text(innum);
        // $(".lskdo").val(1);
        $("#sp_num").text(innum);
        $(".lskdo").prop("disabled",false);
    }
    else{
        $(".choo").prop("checked",false);
        $("#in_num").text(0);
        // $(".lskdo").val(1);
        $("#sp_num").text(0);
        $(".lskdo").prop("disabled",true);
        }
    })
$(".choo").change(function(){
    var lskd=$(".choo:checked").length;
    $("#in_num").text(lskd);
    var lsoe=$(this).parent().parent().find(".lskdo");
    if($(this).prop("checked")){
        lsoe.prop("disabled",false);
        // lsoe.val(1);
        $("#sp_num").text(parseInt($("#sp_num").text())+parseInt(lsoe.val()));
        //alert();
        }else{
            lsoe.prop("disabled",true);
            $("#sp_num").text(parseInt($("#sp_num").text())-parseInt(lsoe.val()));
            // lsoe.val(1);
            }
    })

//$(".jian").each(function(){
    $(".jian").click(function(){
        var lskdpd=$(this).parent().parent().find(".choo");
        var lsoek=$(this).parent().find(".lskdo");
        //alert(lsoek.val()>1);
        if(lskdpd.prop("checked")&&lsoek.val()>1){
            //alert("ccc");
            var lskoe=parseInt(lsoek.val());
            var eiow=parseInt($("#sp_num").text());
            //alert(eiow);
            lsoek.val(lskoe-1);
            $("#sp_num").text(eiow-1);
            }else{}
        })
//  })
//$(".jia").each(function(){
    $(".jia").click(function(iiii){
        var lskdpd=$(this).parent().parent().find(".choo");
        var lsoek=$(this).parent().find(".lskdo");
        //alert(lsoek.val()>1);
        if(lskdpd.prop("checked")){
            //alert("ccc");
            var lskoe=parseInt(lsoek.val());
            var eiow=parseInt($("#sp_num").text());
            lsoek.val(lskoe+1);
            $("#sp_num").text(eiow+1);
            //return $("#sp_num").text();
            }else{}
        })
//  })
$(".lskdo").on('input propertychange',function(){
              var deox=$(this).val();
              if(isNaN(deox)){
                  alert("您好,请输入您想购买的数量!");
                  $(this).val(1);
                  }
              var loel=0;
              for(i=0;i<$(".lskdo").length;i++){
              loel=parseInt(loel)+parseInt($(".lskdo").eq(i).val());
              }
              //alert(loel);
              $("#sp_num").text(loel);
            })
</script>
              

{include file='include/footer'}


</body>
</html>